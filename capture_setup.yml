---
- name: Capture Setup
  hosts: node1

  tasks:

    - name: Collect all facts and register in setup variable
      ansible.builtin.setup:
        gather_subset:
          - 'all'
      register: metadata

    - name: Show metadata varibble using debug module
      ansible.builtin.debug:
        var: metadata